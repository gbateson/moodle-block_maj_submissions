define ("block_maj_submissions/tool_updatevetting",["jquery","jqueryui","core/str"],function(a,b,c){var d={dialogid:"dialog",str:{}};d.init=function(b){if(b){for(var e in b){d[e]=b[e]}}c.get_strings([{key:"cancel",component:"moodle"},{key:"close",component:"moodle"},{key:"ok",component:"moodle"}]).done(function(a){var b=0;d.str.cancel=a[b++];d.str.close=a[b++];d.str.ok=a[b++]});d.blockroot=location.href.replace(/^(.*?)\/tools.*$/,"$1");d.toolroot=location.href.replace(/^(.*?)\/tool.php.*$/,"$1");d.pageid=location.href.replace(/^.*?\bid=([0-9]+)\b.*$/,"$1");d.iconroot=a("img.iconhelp").prop("src").replace(/\/[^/]+$/,"");d.iconedit=d.iconroot+"/i/edit";d.iconremove=d.iconroot+"/i/delete";a("<link/>",{rel:"stylesheet",type:"text/css",href:d.toolroot+"/styles.css"}).appendTo("head");a("input[type=checkbox][name='submissions[0]']").click(function(){var b=a(this).prop("checked");a("input[type=checkbox][name^=submissions]").not("[name='submissions[0]']").each(function(){a(this).prop("checked",b)})});a(".submissionid a").click(function(b){var c=a(this).closest(".submissionid").siblings(".presentationtitle").text();a.ajax({url:a(this).prop("href"),dataType:"text",method:"GET",success:function success(a){a=a.substr(a.indexOf("<ul class=\"nav nav-tabs\">"));a=a.substr(a.indexOf("</ul>"));a=a.substr(0,a.indexOf("</form>"));a=a.replace(/<div class="paging">.*?<\/div>/g,"");d.open_dialog(b,c,a)}});b.stopPropagation();return!1})};d.open_dialog=function(b,c,e,f,g,h,i){var j=document.getElementById(d.dialogid);if(d.empty(j)){j=document.createElement("DIV");j.setAttribute("id",d.dialogid);a("body").append(j)}var k=a(j);if(d.empty(k.dialog("instance"))){k.dialog({autoOpen:!1,width:"auto"})}else{if(k.dialog("isOpen")){k.dialog("close")}}k.dialog("option","title",c);k.html(e);k.dialog("option","modal",i);var l=[];if(d.empty(f)){f=d.str.ok}if(d.empty(g)){g="ui-icon-check"}if(d.empty(h)){h=function(){a(this).dialog("close")}}l.push({text:f,click:h});if(i){var m=d.str.cancel,n=function(){a(this).dialog("close")};l.push({text:m,click:n})}k.dialog("option","buttons",l);k.dialog("open");b.stopPropagation()};d.close_dialog=function(){a("#"+d.dialogid).dialog("close")};d.empty=function(a){return a===void 0||null===a};return d});
//# sourceMappingURL=tool_updatevetting.min.js.map
